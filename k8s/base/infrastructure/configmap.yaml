apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  labels:
    app: mcp-agent
    environment: dev
data:
  # GCP Configuration
  GCP_PROJECT_ID: "datadog-ese-sandbox"
  FIRESTORE_DATABASE: "(default)"
  GCS_BUCKET: "mcp-agent-burgers-data"
  GCS_IMAGES_BUCKET: "mcp-agent-burgers-images"

  # Service URLs (internal cluster communication)
  BURGER_API_URL: "http://burger-api:8080"
  BURGER_MCP_URL: "http://burger-mcp:3000/mcp"
  AGENT_API_URL: "http://agent-api:8080"

  # Public-facing URLs for constructing image URLs
  # This should point to the burger-api service (which serves images at /api/images/*)
  PUBLIC_BASE_URL: "https://burger-api-dev.platform-engineering-demo.dev"

  # Application Settings
  NODE_ENV: "production"
  LOG_LEVEL: "info"

  # PostgreSQL Configuration
  # POSTGRES_HOST is set in overlay patches per environment
  POSTGRES_PORT: "5432"
  POSTGRES_USER: "burgerapp"
  POSTGRES_DB: "burgerdb"

  # Datadog Configuration
  DD_ENV: "dev"
  DD_SERVICE: "agent-api"
  DD_VERSION: "1.0.0"
  DD_LOGS_INJECTION: "true"
  DD_TRACE_ENABLED: "true"
  DD_PROFILING_ENABLED: "true"
  DD_RUNTIME_METRICS_ENABLED: "true"
  DD_LLMOBS_ENABLED: "true"
  DD_LLMOBS_AGENTLESS_ENABLED: "false"
  DD_LLMOBS_ML_APP: "contoso-burgers-agent"
  DD_SITE: "datadoghq.com"

  # Note: DD_DYNAMIC_INSTRUMENTATION_ENABLED, DD_GIT_REPOSITORY_URL, and DD_GIT_COMMIT_SHA
  # are now set in overlay patches (k8s/overlays/{env}/patches/version-labels.yaml)
  # This makes them more visible when checking deployment specs
